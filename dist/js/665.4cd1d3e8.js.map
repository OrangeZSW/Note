{"version":3,"file":"js/665.4cd1d3e8.js","mappings":"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","sources":["webpack://vue/./src/views/Files.vue","webpack://vue/src/views/Files.vue","webpack://vue/./src/views/Files.vue?fb7f","webpack://vue/./src/views/Files.vue?e71d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('el-upload',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"action\":\"http://47.98.32.50:8181/file/upload\",\"show-file-list\":false,\"on-success\":_vm.handelUploadSuccess}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\"}},[_vm._v(\"上传文件\"),_c('i',{staticClass:\"el-icon-upload\"})])],1),_c('el-button',{staticClass:\"ml-5\",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.delBatch}},[_vm._v(\"批量删除 \"),_c('i',{staticClass:\"el-icon-delete\"})])],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"id\",\"width\":\"40\"}}),_c('el-table-column',{attrs:{\"label\":\"文件名称\",\"prop\":\"name\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"label\":\"文件类型\",\"prop\":\"type\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"文件大小(kb)\",\"prop\":\"size\"}}),_c('el-table-column',{attrs:{\"label\":\"下载\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downLoad(scope.row.url)}}},[_vm._v(\" 下载 \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.handleEnable(scope.row)}},model:{value:(scope.row.enable),callback:function ($$v) {_vm.$set(scope.row, \"enable\", $$v)},expression:\"scope.row.enable\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{staticClass:\"ml-5\",attrs:{\"cancel-button-text\":\"取消\",\"confirm-button-text\":\"确定\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"确定删除吗\"},on:{\"confirm\":function($event){return _vm.handleDel(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\"),_c('i',{staticClass:\"el-icon-document-delete\"})])],1)]}}])})],1),_c('div',{staticStyle:{\"padding\":\"10px 0\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"page-sizes\":[2, 5, 10, 20],\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handelCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n     <el-upload\r\n        action=\"http://47.98.32.50:8181/file/upload\"\r\n        style=\"display: inline-block\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handelUploadSuccess\">\r\n       <el-button type=\"primary\" style=\"margin-bottom: 10px\">上传文件<i class=\"el-icon-upload\"></i> </el-button>\r\n     </el-upload>\r\n      <el-button @click=\"delBatch\"\r\n       class=\"ml-5\"\r\n      type=\"danger\">批量删除 <i class=\"el-icon-delete\"></i></el-button>\r\n\r\n    </div>\r\n\r\n\r\n    <el-table\r\n        :data=\"tableData\"\r\n        border\r\n        stripe\r\n        @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column label=\"ID\" prop=\"id\" width=\"40\"> </el-table-column>\r\n      <el-table-column label=\"文件名称\" prop=\"name\" width=\"140\"></el-table-column>\r\n      <el-table-column label=\"文件类型\" prop=\"type\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"文件大小(kb)\" prop=\"size\"> </el-table-column>\r\n      <el-table-column label=\"下载\" >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"downLoad(scope.row.url)\">\r\n            下载\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"启用\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n              v-model=\"scope.row.enable\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              @change=\"handleEnable(scope.row)\"\r\n              >\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popconfirm\r\n              cancel-button-text=\"取消\"\r\n              class=\"ml-5\"\r\n              confirm-button-text=\"确定\"\r\n              icon=\"el-icon-info\"\r\n              icon-color=\"red\"\r\n              title=\"确定删除吗\"\r\n              @confirm=\"handleDel(scope.row)\"\r\n          >\r\n            <el-button slot=\"reference\" type=\"danger\"\r\n            >删除<i class=\"el-icon-document-delete\"></i\r\n            ></el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n<!--分页-->\r\n    <div style=\"padding: 10px 0\">\r\n      <el-pagination\r\n          :current-page=\"pageNum\"\r\n          :page-size=\"pageSize\"\r\n          :page-sizes=\"[2, 5, 10, 20]\"\r\n          :total=\"total\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handelCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Files\",\r\n  data(){\r\n    return{\r\n      file:[],\r\n      tableData:[],\r\n      multipleSelection:[],\r\n      pageNum:1,\r\n      pageSize:10,\r\n      total:0,\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.load()\r\n    },\r\n    handelCurrentChange(val) {\r\n      this.pageNum = val;\r\n      this.load()\r\n    },\r\n    load(){\r\n      this.request.get('/file/page',{\r\n        params:{\r\n          pageNum:this.pageNum,\r\n          pageSize:this.pageSize\r\n        }\r\n      }).then(res=>{\r\n        this.tableData = res.data.records;\r\n        this.total = res.data.total;\r\n      })\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    delBatch() {\r\n      //确认是否删除\r\n        this.$confirm('是否删除选中文件?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n          let ids= this.multipleSelection.map(item=>item.id)\r\n          if (ids.length===0){\r\n            this.$message.error(\"请选择要删除的文件\")\r\n            return\r\n          }\r\n          this.request.delete('/file/del/batch',{\r\n            data:ids\r\n          }).then(res=>{\r\n            this.$message.success(\"删除成功\")\r\n            this.load()\r\n          })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    handleDel(row){\r\n      this.request.delete('/file/del/'+row.id).then(res=>{\r\n        this.$message.success(\"删除成功\")\r\n        this.load()\r\n      })\r\n    },\r\n    downLoad(url){\r\n      window.open(url)\r\n    },\r\n    handelUploadSuccess(res){\r\n      if(res.code==='200') {\r\n        this.$message.success(\"上传成功\")\r\n        this.load()\r\n      }else{\r\n        this.$message.error(res.msg)\r\n      }\r\n    },\r\n    handleEnable(row){\r\n      this.request.post('/file/update',row).then(res=>{\r\n        if (res.code==='200'){\r\n          this.$message.success(\"修改成功\")\r\n        }else{\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=1c0f99f3&scoped=true\"\nimport script from \"./Files.vue?vue&type=script&lang=js\"\nexport * from \"./Files.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c0f99f3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","handelUploadSuccess","_v","staticClass","on","delBatch","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","downLoad","row","url","handleEnable","model","value","enable","callback","$$v","$set","expression","handleDel","slot","pageNum","pageSize","total","handleSizeChange","handelCurrentChange","staticRenderFns","name","data","file","multipleSelection","created","load","methods","val","request","get","params","then","res","records","$confirm","confirmButtonText","cancelButtonText","type","ids","map","item","id","length","delete","$message","success","error","catch","message","window","open","code","msg","post","component"],"sourceRoot":""}